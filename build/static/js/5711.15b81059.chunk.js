(self.webpackChunkrail_app=self.webpackChunkrail_app||[]).push([[5711],{1959:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});n(2791);var r=n(5316),a=n(3360),o=n(184);const s=e=>(0,o.jsx)("div",{children:(0,o.jsxs)(r.Z,{show:e.DELETESTATE,onHide:e.ONCLICK,centered:!0,children:[(0,o.jsx)(r.Z.Header,{closeButton:!0,children:(0,o.jsx)(r.Z.Title,{children:e.DELETETITLE})}),(0,o.jsxs)(r.Z.Body,{children:[e.DESCRIPTION," ?"]}),(0,o.jsxs)(r.Z.Footer,{children:[(0,o.jsx)(a.Z,{variant:"danger",onClick:e.YES,children:"Yes"}),(0,o.jsx)(a.Z,{variant:"secondary",onClick:e.ONCLICK,children:"No"})]})]})})},1609:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});n(2791);var r=n(9743),a=n(2677),o=n(3360),s=n(4316),l=n(184);const c=e=>(0,l.jsx)("div",{className:"ml-xxl-n3 ml-xl-n3 ml-lg-n3",children:(0,l.jsxs)(r.Z,{className:"d-flex flex-row justify-content-between align-items-center  mb-2",children:[(0,l.jsx)(a.Z,{className:"d-flex flex-column flex-wrap-wrap align-content-center ",children:(0,l.jsx)("h4",{className:"fw-bold ",children:e.HEADING})}),(0,l.jsxs)(a.Z,{className:"d-flex flex-row flex-wrap-wrap justify-content-end align-items-center mr-lg-4 mr-xxl-4 mr-xl-4",children:[(0,l.jsx)(o.Z,{style:{backgroundColor:"#0077B2",border:"none"},className:"d-lg-none d-xxl-none d-flex d-sm-flex d-md-flex rounded fw-bold ",onClick:e.ONCLICK,children:(0,l.jsx)(s.wEH,{size:18,color:"white",className:" fw-bold"})}),(0,l.jsxs)(o.Z,{style:{backgroundColor:"#0077B2",border:"none"},className:"d-lg-block d-xxl-block d-none d-sm-none rounded fw-bold text-light",onClick:e.ONCLICK,children:[(0,l.jsx)(s.wEH,{size:18,className:"mr-2 fw-bold mx-1"}),e.BUTTON_NAME]})]})]})})},3791:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(2791),a=n(2677),o=n(9743),s=n(5316),l=n(3360),c=n(2202),i=n(775),d=n(2564),u=n(5294),m=n(1609),f=n(1959),p=n(184);const g=()=>{const[e,t]=(0,r.useState)(!1),[n,g]=(0,r.useState)(""),{data:h,isLoading:x,isError:b}=(0,i.QF)(),[v,y]=(0,r.useState)(!1),[j,C]=(0,r.useState)(null),[w,N]=(0,r.useState)(""),[E,O]=(0,r.useState)(!1),[I,Z]=(0,r.useState)(!1),[T,k]=(0,r.useState)(null),[P]=(0,i.bC)(),S=e=>{const t=e.target.files[0];C(t)},A=()=>{O(!1),k(null)},B=()=>{Z(!1),C(null)};if(x)return(0,p.jsx)("p",{children:"Loading..."});if(b)return console.error("Error fetching image data:",b),(0,p.jsx)("p",{children:"Error fetching data"});if(!h||!h.data||!Array.isArray(h.data)||0===h.data.length)return console.warn("Image data is missing or not in the expected format:",h),(0,p.jsx)("p",{children:"No image data available"});const D=h.data[0];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(a.Z,{className:"",children:[(0,p.jsx)(o.Z,{className:"mt-4",children:(0,p.jsx)(m.Z,{ONCLICK:()=>O(!0),HEADING:"Settings",BUTTON_NAME:"Add Carousel Image"})}),(0,p.jsx)("hr",{className:"mt-3 bg-primary ml-xxl-n2 ml-xl-n2 ml-lg-n2 "}),[{images:[D.referralBanner,D.ratingBanner],altTexts:["Referral Banner","Rating Banner"]},{images:D.carousel,altTexts:D.carousel&&D.carousel.map(((e,t)=>"Carousel Image ".concat(t+1)))},{images:[D.engineImage,D.feedbackImage,D.pnrImage,D.walletImage,D.defaultImage,D.coachImage,D.liveTrainGif],altTexts:["Engine Image","Feedback Image","PNR Image","Wallet Image","Default Image","Coach Image","Live Train GIF"]}].map(((e,n)=>e.images&&(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(a.Z,{className:"d-flex flex-row justify-content-between mt-5",children:(0,p.jsx)("h4",{className:"fw-bold",style:{color:"#0077B2",border:"none"},children:0===n?"BANNER IMAGES:":1===n?"CAROUSEL IMAGES:":"DEFAULT IMAGES:"})}),(0,p.jsx)(a.Z,{xs:12,className:"mt-3 d-flex flex-row flex-wrap justify-content-start align-items-center",children:e.images.map(((r,a)=>r&&(0,p.jsxs)("div",{className:"image-container",children:[(0,p.jsx)("img",{src:r,alt:e.altTexts[a],style:{margin:"15px",height:2===n&&6===a?"250px":"200px",width:"100%",maxWidth:2===n&&6===a?"250px":"350px"}}),(0,p.jsxs)("div",{className:"icon-container",children:[(0,p.jsx)(c.fmQ,{className:"edit-icon",onClick:()=>(e=>{const[t,n]=e.split("-"),r=[["referralBanner","ratingBanner"],Object.keys(D.carousel),["engineImage","feedbackImage","pnrImage","walletImage","defaultImage","coachImage","liveTrainGif"]][t][n];N(r),"1"===t?Z(!0):y(!0)})("".concat(n,"-").concat(a))}),1===n&&(0,p.jsx)(c.Xm5,{className:"delete-icon deleteicon-container",onClick:()=>(e=>{g(e),t(!0)})(a)})]})]},a)))})]},n)))]}),(0,p.jsxs)(s.Z,{show:E,onHide:A,centered:!0,children:[(0,p.jsx)(s.Z.Header,{closeButton:!0,children:(0,p.jsx)(s.Z.Title,{children:"Add Carousel Image"})}),(0,p.jsx)(s.Z.Body,{children:(0,p.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];k(t)}})}),(0,p.jsxs)(s.Z.Footer,{children:[(0,p.jsx)(l.Z,{variant:"secondary",onClick:A,children:"Close"}),(0,p.jsx)(l.Z,{style:{backgroundColor:"#0077B2",border:"none"},onClick:async()=>{if(console.log("Attempting to update image..."),console.log("Image File:",T),!T)return;const e=new FormData;e.append("carousel",T);try{const r=await u.Z.patch("https://train-info.onrender.com/admin/addCarousel/65bca70d45f5ff99f43a2a57",e,{headers:{"Content-Type":"multipart/form-data"}});var t,n;if(console.log("Response:",r),r&&r.data)d.Am.success(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message,{autoClose:1e3}),k(null),O(!1),window.location.reload();else d.Am.error(null===r||void 0===r||null===(n=r.error)||void 0===n?void 0:n.data.error,{autoClose:1e3}),k(null)}catch(r){console.error(r)}},children:"Upload"})]})]}),(0,p.jsxs)(s.Z,{show:v,onHide:()=>{N(""),y(!1),C(null)},centered:!0,children:[(0,p.jsx)(s.Z.Header,{closeButton:!0,children:(0,p.jsx)(s.Z.Title,{children:" Update Image"})}),(0,p.jsx)(s.Z.Body,{children:(0,p.jsx)("input",{type:"file",accept:"image/*",onChange:S})}),(0,p.jsxs)(s.Z.Footer,{children:[(0,p.jsx)(l.Z,{variant:"secondary",onClick:B,children:"Close"}),(0,p.jsx)(l.Z,{style:{backgroundColor:"#0077B2",border:"none"},onClick:async()=>{if(console.log("Attempting to update image..."),console.log("Image File:",j),!j)return;const e=new FormData;e.append(w,j);try{const r=await u.Z.patch("https://train-info.onrender.com/admin/updateBanner/65bca70d45f5ff99f43a2a57",e,{headers:{"Content-Type":"multipart/form-data"}});var t,n;if(console.log("Response:",r),r&&r.data)d.Am.success(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message,{autoClose:1e3}),C(null),y(!1);else d.Am.error(null===r||void 0===r||null===(n=r.error)||void 0===n?void 0:n.data.error,{autoClose:1e3}),C(null)}catch(r){console.error(r)}},children:"Update"})]})]}),(0,p.jsxs)(s.Z,{show:I,onHide:B,centered:!0,children:[(0,p.jsx)(s.Z.Header,{closeButton:!0,children:(0,p.jsx)(s.Z.Title,{children:"Update Carosuel Image"})}),(0,p.jsx)(s.Z.Body,{children:(0,p.jsx)("input",{type:"file",accept:"image/*",onChange:S})}),(0,p.jsxs)(s.Z.Footer,{children:[(0,p.jsx)(l.Z,{variant:"secondary",onClick:B,children:"Close"}),(0,p.jsx)(l.Z,{style:{backgroundColor:"#0077B2",border:"none"},onClick:async()=>{if(console.log("Attempting to update image..."),console.log("Image File:",j),console.log("Image key:",w),!j)return;const e=new FormData;e.append(w,j);try{const r=await u.Z.patch("https://train-info.onrender.com/admin/updateCarousel/65bca70d45f5ff99f43a2a57",e,{headers:{"Content-Type":"multipart/form-data"}});var t,n;if(console.log("Response:",r),r&&r.data)d.Am.success(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message,{autoClose:1e3}),C(null),Z(!1);else d.Am.error(null===r||void 0===r||null===(n=r.error)||void 0===n?void 0:n.data.error,{autoClose:1e3}),C(null)}catch(r){console.error(r)}},children:"Update"})]})]}),(0,p.jsx)(f.Z,{YES:async()=>{try{const a=await P(n);var e,r;if(console.log(n),null!==a&&void 0!==a&&a.data)d.Am.success(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.message,{autoClose:1e3}),t(!1),g("");else d.Am.error(null===a||void 0===a||null===(r=a.error)||void 0===r?void 0:r.data.error,{autoClose:1e3}),t(!1),g("")}catch(a){console.error(a)}},DELETESTATE:e,ONCLICK:()=>t(!1),DESCRIPTION:"Are you sure you want to delete this Carosuel",DELETETITLE:"Carosuel"})]})}},5341:(e,t,n)=>{"use strict";n.d(t,{FT:()=>s,ZP:()=>c});var r=n(2791),a=n(184);const o=["as","disabled"];function s(e){let{tagName:t,disabled:n,href:r,target:a,rel:o,role:s,onClick:l,tabIndex:c=0,type:i}=e;t||(t=null!=r||null!=a||null!=o?"a":"button");const d={tagName:t};if("button"===t)return[{type:i||"button",disabled:n},d];const u=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==l||l(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?a:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const l=r.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,o);const[c,{tagName:i}]=s(Object.assign({tagName:n,disabled:r},l));return(0,a.jsx)(i,Object.assign({},l,c,{ref:t}))}));l.displayName="Button";const c=l},888:(e,t,n)=>{"use strict";var r=n(9047);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,s){if(s!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},2007:(e,t,n)=>{e.exports=n(888)()},9047:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3360:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(1418),a=n.n(r),o=n(2791),s=n(5341),l=n(162),c=n(184);const i=o.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:o="primary",size:i,active:d=!1,disabled:u=!1,className:m,...f}=e;const p=(0,l.vE)(r,"btn"),[g,{tagName:h}]=(0,s.FT)({tagName:n,disabled:u,...f}),x=h;return(0,c.jsx)(x,{...g,...f,ref:t,disabled:u,className:a()(m,p,d&&"active",o&&"".concat(p,"-").concat(o),i&&"".concat(p,"-").concat(i),f.href&&u&&"disabled")})}));i.displayName="Button";const d=i},2677:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1418),a=n.n(r),o=n(2791),s=n(162),l=n(184);const c=o.forwardRef(((e,t)=>{const[{className:n,...r},{as:o="div",bsPrefix:c,spans:i}]=function(e){let{as:t,bsPrefix:n,className:r,...o}=e;n=(0,s.vE)(n,"col");const l=(0,s.pi)(),c=(0,s.zG)(),i=[],d=[];return l.forEach((e=>{const t=o[e];let r,a,s;delete o[e],"object"===typeof t&&null!=t?({span:r,offset:a,order:s}=t):r=t;const l=e!==c?"-".concat(e):"";r&&i.push(!0===r?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(r)),null!=s&&d.push("order".concat(l,"-").concat(s)),null!=a&&d.push("offset".concat(l,"-").concat(a))})),[{...o,className:a()(r,...i,...d)},{as:t,bsPrefix:n,spans:i}]}(e);return(0,l.jsx)(o,{...r,ref:t,className:a()(n,!i.length&&c)})}));c.displayName="Col";const i=c},9743:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1418),a=n.n(r),o=n(2791),s=n(162),l=n(184);const c=o.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:o="div",...c}=e;const i=(0,s.vE)(n,"row"),d=(0,s.pi)(),u=(0,s.zG)(),m="".concat(i,"-cols"),f=[];return d.forEach((e=>{const t=c[e];let n;delete c[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==u?"-".concat(e):"";null!=n&&f.push("".concat(m).concat(r,"-").concat(n))})),(0,l.jsx)(o,{ref:t,...c,className:a()(r,i,...f)})}));c.displayName="Row";const i=c},2119:(e,t,n)=>{"use strict";n.d(t,{w_:()=>f,Pd:()=>o});var r=n(2791),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=r.createContext&&r.createContext(a),s=["attr","size","title"];function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return e&&e.map(((e,t)=>r.createElement(e.tag,d({key:t},e.attr),m(e.child))))}function f(e){return t=>r.createElement(p,c({attr:d({},e.attr)},t),m(e.child))}function p(e){var t=t=>{var n,{attr:a,size:o,title:i}=e,u=l(e,s),m=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,u,{className:n,style:d(d({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),i&&r.createElement("title",null,i),e.children)};return void 0!==o?r.createElement(o.Consumer,null,(e=>t(e))):t(a)}}}]);
//# sourceMappingURL=5711.15b81059.chunk.js.map