"use strict";(self.webpackChunkrail_app=self.webpackChunkrail_app||[]).push([[6634],{1959:(e,a,s)=>{s.d(a,{Z:()=>t});s(2791);var n=s(5316),l=s(3360),r=s(184);const t=e=>(0,r.jsx)("div",{children:(0,r.jsxs)(n.Z,{show:e.DELETESTATE,onHide:e.ONCLICK,centered:!0,children:[(0,r.jsx)(n.Z.Header,{closeButton:!0,children:(0,r.jsx)(n.Z.Title,{children:e.DELETETITLE})}),(0,r.jsxs)(n.Z.Body,{children:[e.DESCRIPTION," ?"]}),(0,r.jsxs)(n.Z.Footer,{children:[(0,r.jsx)(l.Z,{variant:"danger",onClick:e.YES,children:"Yes"}),(0,r.jsx)(l.Z,{variant:"secondary",onClick:e.ONCLICK,children:"No"})]})]})})},1609:(e,a,s)=>{s.d(a,{Z:()=>c});s(2791);var n=s(9743),l=s(2677),r=s(3360),t=s(4316),i=s(184);const c=e=>(0,i.jsx)("div",{className:"ml-xxl-n3 ml-xl-n3 ml-lg-n3",children:(0,i.jsxs)(n.Z,{className:"d-flex flex-row justify-content-between align-items-center  mb-2",children:[(0,i.jsx)(l.Z,{className:"d-flex flex-column flex-wrap-wrap align-content-center ",children:(0,i.jsx)("h4",{className:"fw-bold ",children:e.HEADING})}),(0,i.jsxs)(l.Z,{className:"d-flex flex-row flex-wrap-wrap justify-content-end align-items-center mr-lg-4 mr-xxl-4 mr-xl-4",children:[(0,i.jsx)(r.Z,{style:{backgroundColor:"#0077B2",border:"none"},className:"d-lg-none d-xxl-none d-flex d-sm-flex d-md-flex rounded fw-bold ",onClick:e.ONCLICK,children:(0,i.jsx)(t.wEH,{size:18,color:"white",className:" fw-bold"})}),(0,i.jsxs)(r.Z,{style:{backgroundColor:"#0077B2",border:"none"},className:"d-lg-block d-xxl-block d-none d-sm-none rounded fw-bold text-light",onClick:e.ONCLICK,children:[(0,i.jsx)(t.wEH,{size:18,className:"mr-2 fw-bold mx-1"}),e.BUTTON_NAME]})]})]})})},7246:(e,a,s)=>{s.d(a,{Z:()=>p});var n=s(2791),l=s(1358),r=s(7022),t=s(9743),i=s(2591),c=s(2677),o=s(3360),d=s(8744),x=s(2202),m=s(9108),u=s(6048),g=s.n(u),h=s(2119),j=(s(1502),s(184));const p=e=>{const a=(0,n.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),s=(0,n.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:u,getTableBodyProps:p,headerGroups:N,prepareRow:C,page:f}=(0,l.useTable)({columns:a,data:s,autoResetWidth:!1},l.useGlobalFilter,l.useSortBy,l.usePagination);return(0,j.jsx)("div",{children:(0,j.jsx)(r.Z,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,j.jsxs)(t.Z,{children:[(0,j.jsxs)(i.Z,{className:"justify-content-center align-items-center",striped:!0,bordered:!0,hover:!0,...u(),responsive:!0,style:{width:"100%"},children:[(0,j.jsx)("thead",{children:N.map((e=>(0,n.createElement)("tr",{...e.getHeaderGroupProps(),key:e.id},e.headers.map((e=>(0,n.createElement)("th",{...e.getHeaderProps(),key:e.id,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:a=>{a.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,j.jsx)(j.Fragment,{children:e.render("Header")}):(0,j.jsxs)("div",{children:[e.render("Header"),(0,j.jsx)(x.roE,{className:"mx-2"})]})))))))}),(0,j.jsx)("tbody",{...p(),children:f.length>0?f.map((e=>(C(e),(0,n.createElement)("tr",{...e.getRowProps(),key:e.id},e.cells.map((e=>(0,n.createElement)("td",{...e.getCellProps(),key:e.column.id,className:"text-secondary text-center ",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch"}},e.render("Cell")))))))):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:a.length,className:"text-center text-dark",children:"No Data Found"})})})]}),(0,j.jsxs)(c.Z,{className:"".concat(f.length>0?"d-flex":"d-none"," flex-row justify-content-center align-items-center"),children:[(0,j.jsxs)(c.Z,{className:"d-flex justify-content-start align-items-center flex-wrap",children:[(0,j.jsxs)("span",{className:"m-1",children:["Page"," ",(0,j.jsxs)("strong",{className:"m-2",children:[e.currentPage," of ",e.totalPages]})]}),(0,j.jsx)(t.Z,{children:(0,j.jsxs)("span",{className:"m-1",children:["Items per page"," ",(0,j.jsx)("strong",{className:"m-2",children:e.itemsPerPage})]})})]}),(0,j.jsx)(c.Z,{className:"d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,j.jsx)(g(),{breakLabel:"...",onPageChange:a=>e.setCurrentPage(a.selected+1),pageRangeDisplayed:5,pageCount:e.totalPages,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,j.jsx)(h.Pd.Provider,{value:{color:"#0077B2",size:"28px"},children:(0,j.jsx)(m._u0,{})}),nextLabel:(0,j.jsx)(h.Pd.Provider,{value:{color:"#0077B2",size:"28px"},children:(0,j.jsx)(m.bBv,{})})})}),(0,j.jsxs)(c.Z,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,j.jsx)(o.Z,{style:{backgroundColor:"#0077B2",border:"none"},onClick:()=>e.setCurrentPage(e.currentPage-1),disabled:1===e.currentPage,className:"m-2",children:(0,j.jsx)(d.WOK,{size:14})}),(0,j.jsx)(o.Z,{style:{backgroundColor:"#0077B2",border:"none"},onClick:()=>{e.setCurrentPage(e.currentPage+1)},disabled:e.currentPage===e.totalPages,children:(0,j.jsx)(d.U6L,{size:14})})]})]})]})})})}},6634:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var n=s(2791),l=s(3360),r=s(7022),t=s(9743),i=s(5630),c=s(2677),o=s(2202),d=s(1909),x=s(7689),m=s(1087),u=s(7246),g=s(1609),h=s(3067),j=s(2564),p=s(8048),N=s(1959),C=s(1212),f=s(5804),v=s(184);const b=()=>{const[e,a]=(0,n.useState)([]),[s,b]=(0,n.useState)(1),[y,Z]=(0,n.useState)(1),[T,w]=(0,n.useState)(!1),[P,k]=(0,n.useState)(""),[E,S]=(0,n.useState)({value:"Chennai",label:"Chennai"}),[L,H]=(0,n.useState)(""),[I,A]=(0,n.useState)(),{data:D,isLoading:O}=(0,h.y4)({page:y,city:E.value,search:L,id:P}),[_]=(0,h.pP)(),B=(0,x.s0)();(0,n.useEffect)((()=>{D&&D.data&&(a(D.data),b(D.pagination.totalPages),Z(y),A(D.pagination.itemsPerPage))}),[D,y]),(0,n.useEffect)((()=>{Z(1),H("")}),[E]),console.log(D);const M=[{Header:"ID",accessor:"s_no"},{Header:"Route",accessor:"route"},{Header:"Day",accessor:"day"},{Header:"Source",accessor:"source"},{Header:"Destination",accessor:"destination"},{Header:"Via",accessor:"via"},{Header:"First Train",accessor:"first_train"},{Header:"Last Train",accessor:"last_train"},{Header:"Timing 1",accessor:"timing1"},{Header:"Timing1 Train Frequency",accessor:"timing1_train_frequency"},{Header:"Timing 2",accessor:"timing2"},{Header:"Timing2 Train Frequency",accessor:"timing2_train_frequency"},{Header:"Timing 3",accessor:"timing3"},{Header:"Timing3 Train Frequency",accessor:"timing3_train_frequency"},{Header:"Additional Data",accessor:"additional_data"},{Header:"ACTIONS",accessor:"action",Cell:e=>{const a=e.row.original._id;return(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-row",children:[(0,v.jsx)(m.rU,{to:"/admin/edit-metrotrain/:".concat(a),children:(0,v.jsx)(l.Z,{variant:"warning",children:(0,v.jsx)(o.fmQ,{})})}),(0,v.jsx)(l.Z,{variant:"danger",className:"m-1",onClick:()=>(k(a),void w(!0)),children:(0,v.jsx)(d.ZkW,{})})]})}}];return(0,v.jsxs)("div",{children:[O?(0,v.jsx)(p.Z,{}):(0,v.jsxs)(r.Z,{fluid:!0,className:"mt-3",children:[(0,v.jsxs)(t.Z,{className:"",children:[(0,v.jsx)(g.Z,{ONCLICK:()=>B("/admin/add-metrotrain"),HEADING:"Metro Trains",BUTTON_NAME:"Add Metro Train"}),(0,v.jsx)("hr",{className:"mt-3"})]}),(0,v.jsx)(t.Z,{className:"mb-3",children:(0,v.jsxs)(i.Z,{onSubmit:e=>e.preventDefault(),className:"d-flex flex-column flex-md-row align-items-md-center justify-content-start",children:[(0,v.jsx)(c.Z,{xs:12,md:4,lg:3,className:"m-2",children:(0,v.jsxs)(i.Z.Group,{controlId:"city",children:[(0,v.jsx)(i.Z.Label,{className:"fs-4",children:"Select City:"}),(0,v.jsx)(C.ZP,{value:E,onChange:e=>{S(e)},options:[{value:"Chennai",label:"Chennai"},{value:"Mumbai",label:"Mumbai"},{value:"Kolkata",label:"Kolkata"},{value:"Pune",label:"Pune"},{value:"Delhi",label:"Delhi"},{value:"Ahmedabad",label:"Ahmedabad"},{value:"Jaipur",label:"Jaipur"},{value:"Nagpur",label:"Nagpur"},{value:"Noida",label:"Noida"},{value:"Bangalore",label:"Bangalore"}]})]})}),(0,v.jsx)(c.Z,{xs:12,md:4,lg:3,className:"m-2",children:(0,v.jsxs)(i.Z.Group,{controlId:"search",className:"position-relative",children:[(0,v.jsx)(i.Z.Label,{className:"fs-4",children:"Search:"}),(0,v.jsxs)("div",{className:"input-group",children:[(0,v.jsx)("span",{className:"input-group-text",children:(0,v.jsx)(f.dVI,{})}),(0,v.jsx)(i.Z.Control,{type:"text",value:L,onChange:e=>{H(e.target.value)},placeholder:"Search MetroTrain"}),L&&(0,v.jsx)("span",{className:"input-group-text",onClick:()=>H(""),children:(0,v.jsx)(f.z3f,{style:{cursor:"pointer"}})})]})]})})]})}),(0,v.jsx)(t.Z,{className:"",children:(0,v.jsx)(u.Z,{COLUMNS:M,MOCK_DATA:e,currentPage:y,totalPages:s,setCurrentPage:Z,itemsPerPage:I})})]}),(0,v.jsx)(N.Z,{YES:async()=>{try{const s=await _({city:E.value,id:P});var e,a;if(console.log(P),null!==s&&void 0!==s&&s.data)j.Am.success(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.message,{autoClose:1e3}),console.log(s),w(!1),k("");else j.Am.error(null===s||void 0===s||null===(a=s.error)||void 0===a?void 0:a.data.error,{autoClose:1e3}),console.log("else part"),console.log(s.error),w(!1),k("")}catch(s){console.error(s)}},DELETESTATE:T,ONCLICK:()=>{w(!1)},DESCRIPTION:"Are you sure you want to delete this Train",DELETETITLE:"Train"})]})}},8048:(e,a,s)=>{s.d(a,{Z:()=>t});s(2791);var n=s(9329),l=s(7022),r=s(184);const t=()=>(0,r.jsxs)(l.Z,{className:"vh-100 d-flex flex-column flex-wrap-wrap justify-content-center align-items-center",children:[(0,r.jsx)(n.s5,{visible:!0,height:"96",width:"96",strokeColor:"#0077B2",strokeWidth:"5",animationDuration:"0.75",ariaLabel:"rotating-lines-loading",wrapperStyle:{},wrapperClass:""}),(0,r.jsx)("p",{className:"",children:"Loading Please Wait"})]})},1502:()=>{}}]);
//# sourceMappingURL=6634.b2105056.chunk.js.map