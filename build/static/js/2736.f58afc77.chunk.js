"use strict";(self.webpackChunkrail_app=self.webpackChunkrail_app||[]).push([[2736],{2524:(e,s,a)=>{a.d(s,{Z:()=>r});a(2791);var n=a(9743),l=a(2677),t=a(184);const r=e=>(0,t.jsx)("div",{className:"ml-xxl-n3 ml-xl-n3 ml-lg-n3",children:(0,t.jsx)(n.Z,{className:"d-flex flex-row justify-content-between align-items-center  mb-2",children:(0,t.jsx)(l.Z,{className:"d-flex flex-column flex-wrap-wrap align-content-center ",children:(0,t.jsx)("h4",{className:"fw-bold ",children:e.HEADING})})})})},1959:(e,s,a)=>{a.d(s,{Z:()=>r});a(2791);var n=a(5316),l=a(3360),t=a(184);const r=e=>(0,t.jsx)("div",{children:(0,t.jsxs)(n.Z,{show:e.DELETESTATE,onHide:e.ONCLICK,centered:!0,children:[(0,t.jsx)(n.Z.Header,{closeButton:!0,children:(0,t.jsx)(n.Z.Title,{children:e.DELETETITLE})}),(0,t.jsxs)(n.Z.Body,{children:[e.DESCRIPTION," ?"]}),(0,t.jsxs)(n.Z.Footer,{children:[(0,t.jsx)(l.Z,{variant:"danger",onClick:e.YES,children:"Yes"}),(0,t.jsx)(l.Z,{variant:"secondary",onClick:e.ONCLICK,children:"No"})]})]})})},7246:(e,s,a)=>{a.d(s,{Z:()=>p});var n=a(2791),l=a(1358),t=a(7022),r=a(9743),i=a(2591),o=a(2677),c=a(3360),d=a(8744),x=a(2202),m=a(9108),g=a(6048),h=a.n(g),u=a(2119),j=(a(1502),a(184));const p=e=>{const s=(0,n.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),a=(0,n.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:g,getTableBodyProps:p,headerGroups:v,prepareRow:C,page:N}=(0,l.useTable)({columns:s,data:a,autoResetWidth:!1},l.useGlobalFilter,l.useSortBy,l.usePagination);return(0,j.jsx)("div",{children:(0,j.jsx)(t.Z,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,j.jsxs)(r.Z,{children:[(0,j.jsxs)(i.Z,{className:"justify-content-center align-items-center",striped:!0,bordered:!0,hover:!0,...g(),responsive:!0,style:{width:"100%"},children:[(0,j.jsx)("thead",{children:v.map((e=>(0,n.createElement)("tr",{...e.getHeaderGroupProps(),key:e.id},e.headers.map((e=>(0,n.createElement)("th",{...e.getHeaderProps(),key:e.id,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:s=>{s.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,j.jsx)(j.Fragment,{children:e.render("Header")}):(0,j.jsxs)("div",{children:[e.render("Header"),(0,j.jsx)(x.roE,{className:"mx-2"})]})))))))}),(0,j.jsx)("tbody",{...p(),children:N.length>0?N.map((e=>(C(e),(0,n.createElement)("tr",{...e.getRowProps(),key:e.id},e.cells.map((e=>(0,n.createElement)("td",{...e.getCellProps(),key:e.column.id,className:"text-secondary text-center ",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch"}},e.render("Cell")))))))):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:s.length,className:"text-center text-dark",children:"No Data Found"})})})]}),(0,j.jsxs)(o.Z,{className:"".concat(N.length>0?"d-flex":"d-none"," flex-row justify-content-center align-items-center"),children:[(0,j.jsxs)(o.Z,{className:"d-flex justify-content-start align-items-center flex-wrap",children:[(0,j.jsxs)("span",{className:"m-1",children:["Page"," ",(0,j.jsxs)("strong",{className:"m-2",children:[e.currentPage," of ",e.totalPages]})]}),(0,j.jsx)(r.Z,{children:(0,j.jsxs)("span",{className:"m-1",children:["Items per page"," ",(0,j.jsx)("strong",{className:"m-2",children:e.itemsPerPage})]})})]}),(0,j.jsx)(o.Z,{className:"d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,j.jsx)(h(),{breakLabel:"...",onPageChange:s=>e.setCurrentPage(s.selected+1),pageRangeDisplayed:5,pageCount:e.totalPages,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,j.jsx)(u.Pd.Provider,{value:{color:"#0077B2",size:"28px"},children:(0,j.jsx)(m._u0,{})}),nextLabel:(0,j.jsx)(u.Pd.Provider,{value:{color:"#0077B2",size:"28px"},children:(0,j.jsx)(m.bBv,{})})})}),(0,j.jsxs)(o.Z,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,j.jsx)(c.Z,{style:{backgroundColor:"#0077B2",border:"none"},onClick:()=>e.setCurrentPage(e.currentPage-1),disabled:1===e.currentPage,className:"m-2",children:(0,j.jsx)(d.WOK,{size:14})}),(0,j.jsx)(c.Z,{style:{backgroundColor:"#0077B2",border:"none"},onClick:()=>{e.setCurrentPage(e.currentPage+1)},disabled:e.currentPage===e.totalPages,children:(0,j.jsx)(d.U6L,{size:14})})]})]})]})})})}},2736:(e,s,a)=>{a.r(s),a.d(s,{default:()=>v});var n=a(2791),l=a(3360),t=a(7022),r=a(9743),i=a(2677),o=a(5630),c=a(1909),d=a(5294),x=a(2524),m=a(8048),g=a(8198),h=a(2564),u=a(1959),j=a(7246),p=a(184);const v=()=>{const[e,s]=(0,n.useState)([]),[a,v]=(0,n.useState)(""),[C,N]=(0,n.useState)(""),[f,y]=(0,n.useState)(1),[Z,b]=(0,n.useState)(""),[P,w]=(0,n.useState)(!1),[S,k]=(0,n.useState)(1),[E,T]=(0,n.useState)(),{data:L,isLoading:A,refetch:D}=(0,g._C)(S),[I]=(0,g.HD)(),[H,O]=(0,n.useState)(!1);(0,n.useEffect)((()=>{L&&L.data&&(s(L.data),y(L.pagination.totalPages),T(L.pagination.itemsPerPage))}),[L]);const B=async()=>{if(a||C)if(a)if(C){O(!0),await D(),O(!1);try{const n=await d.Z.get("https://train-info.onrender.com/news/addNewsInDB?category=".concat(C,"&lang=").concat(a));var e,s;if(null!==n&&void 0!==n&&n.data)console.log(a),console.log(C),console.log(n),h.Am.success(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.message,{autoClose:1e3}),v(""),N(""),window.location.reload();else h.Am.error(null===n||void 0===n||null===(s=n.error)||void 0===s?void 0:s.data.error,{autoClose:1e3}),v(""),N("")}catch(n){console.error(n)}}else h.Am.error("Please select a category.",{autoClose:2e3});else h.Am.error("Please select a language.",{autoClose:2e3});else h.Am.error("Please select both language and category.",{autoClose:2e3})},W=[{Header:"ID",accessor:"s_no"},{Header:"Category",accessor:"category",width:"auto",minWidth:100},{Header:"Language",accessor:"lang",width:"auto",minWidth:100},{Header:"Title",accessor:"title"},{Header:"Image",accessor:"image"},{Header:"Published At",accessor:"publishedAt"},{Header:"ACTIONS",accessor:"action",fixed:"right",Cell:e=>{const s=e.row.original._id;return(0,p.jsx)("div",{className:"d-flex align-items-center justify-content-center flex-row",children:(0,p.jsx)(l.Z,{variant:"danger",className:"m-1",onClick:()=>(b(s),void w(!0)),children:(0,p.jsx)(c.ZkW,{})})})}}];return(0,p.jsx)("div",{children:A?(0,p.jsx)(m.Z,{}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(t.Z,{fluid:!0,className:"my-4",children:[(0,p.jsx)(r.Z,{children:(0,p.jsx)(i.Z,{children:(0,p.jsx)(x.Z,{HEADING:" News",headingClassName:"text-center text-md-start m-md-4 m-xl-2"})})}),(0,p.jsx)("hr",{className:"bg-primary ml-xxl-n2 ml-xl-n2 ml-lg-n2"}),(0,p.jsx)(r.Z,{className:"mb-3",children:(0,p.jsx)(i.Z,{children:(0,p.jsx)(o.Z,{onSubmit:async e=>{e.preventDefault(),await B()},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),B())},children:(0,p.jsxs)(r.Z,{className:"mb-4 mt-4",children:[(0,p.jsx)(i.Z,{xs:12,md:4,lg:3,children:(0,p.jsxs)(o.Z.Group,{controlId:"language",children:[(0,p.jsx)(o.Z.Label,{className:"text-dark",style:{fontWeight:"bolder"},children:"Languages:"}),(0,p.jsxs)(o.Z.Select,{value:a,onChange:e=>v(e.target.value),className:"mb-2",children:[(0,p.jsx)("option",{value:"",disabled:!0,children:"Select Languages"}),(0,p.jsx)("option",{value:"ta",children:"Tamil"}),(0,p.jsx)("option",{value:"en",children:"English"}),(0,p.jsx)("option",{value:"te",children:"Telugu"}),(0,p.jsx)("option",{value:"hi",children:"Hindi"})]})]})}),(0,p.jsx)(i.Z,{xs:12,md:4,lg:3,children:(0,p.jsxs)(o.Z.Group,{controlId:"category",children:[(0,p.jsx)(o.Z.Label,{className:"text-dark",style:{fontWeight:"bolder"},children:"Categories:"}),(0,p.jsxs)(o.Z.Select,{value:C,onChange:e=>N(e.target.value),className:"mb-2",children:[(0,p.jsx)("option",{value:"",disabled:!0,children:"Select Categories"}),(0,p.jsx)("option",{value:"general",children:"General"}),(0,p.jsx)("option",{value:"world",children:"World"}),(0,p.jsx)("option",{value:"nation",children:"Nation"}),(0,p.jsx)("option",{value:"business",children:"Business"}),(0,p.jsx)("option",{value:"technology",children:"Technology"}),(0,p.jsx)("option",{value:"entertainment",children:"Entertainment"}),(0,p.jsx)("option",{value:"sports",children:"Sports"}),(0,p.jsx)("option",{value:"science",children:"Science"}),(0,p.jsx)("option",{value:"health",children:"Health"})]})]})}),(0,p.jsx)(i.Z,{xs:12,md:4,lg:3,className:" d-flex flex-column ",children:(0,p.jsx)(l.Z,{style:{backgroundColor:"#0077B2",border:"none",marginTop:"30px",position:"relative"},type:"submit",disabled:H,children:(0,p.jsx)(c.la_,{size:25,style:{marginRight:"0px",animation:H?"spin 1s linear infinite":"none"},className:"justify-content-center align-items-center "})})})]})})})}),(0,p.jsx)(r.Z,{className:"justify-content-center",children:(0,p.jsx)(i.Z,{xs:12,lg:12,xl:12,xxl:12,md:12,className:"table-responsive",children:(0,p.jsx)(j.Z,{COLUMNS:W,MOCK_DATA:e,currentPage:S,totalPages:f,setCurrentPage:k,itemsPerPage:E})})})]}),(0,p.jsx)(u.Z,{DELETESTATE:P,ONCLICK:()=>w(!1),YES:async()=>{try{const s=await I(Z);var e;if(w(!1),b(""),null!==s&&void 0!==s&&s.data)h.Am.success(s.data.message,{autoClose:1e3});else h.Am.error(null===s||void 0===s||null===(e=s.error)||void 0===e?void 0:e.data.error,{autoClose:1e3})}catch(s){console.error(s)}},DESCRIPTION:"Confirm to Delete this News",DELETETITLE:"News"})]})})}},8048:(e,s,a)=>{a.d(s,{Z:()=>r});a(2791);var n=a(9329),l=a(7022),t=a(184);const r=()=>(0,t.jsxs)(l.Z,{className:"vh-100 d-flex flex-column flex-wrap-wrap justify-content-center align-items-center",children:[(0,t.jsx)(n.s5,{visible:!0,height:"96",width:"96",strokeColor:"#0077B2",strokeWidth:"5",animationDuration:"0.75",ariaLabel:"rotating-lines-loading",wrapperStyle:{},wrapperClass:""}),(0,t.jsx)("p",{className:"",children:"Loading Please Wait"})]})},1502:()=>{}}]);
//# sourceMappingURL=2736.f58afc77.chunk.js.map