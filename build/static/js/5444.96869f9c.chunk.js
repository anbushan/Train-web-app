"use strict";(self.webpackChunkrail_app=self.webpackChunkrail_app||[]).push([[5444],{1959:(e,s,a)=>{a.d(s,{Z:()=>t});a(2791);var l=a(5316),r=a(3360),n=a(184);const t=e=>(0,n.jsx)("div",{children:(0,n.jsxs)(l.Z,{show:e.DELETESTATE,onHide:e.ONCLICK,centered:!0,children:[(0,n.jsx)(l.Z.Header,{closeButton:!0,children:(0,n.jsx)(l.Z.Title,{children:e.DELETETITLE})}),(0,n.jsxs)(l.Z.Body,{children:[e.DESCRIPTION," ?"]}),(0,n.jsxs)(l.Z.Footer,{children:[(0,n.jsx)(r.Z,{variant:"danger",onClick:e.YES,children:"Yes"}),(0,n.jsx)(r.Z,{variant:"secondary",onClick:e.ONCLICK,children:"No"})]})]})})},7246:(e,s,a)=>{a.d(s,{Z:()=>j});var l=a(2791),r=a(1358),n=a(7022),t=a(9743),o=a(2591),i=a(2677),d=a(3360),c=a(8744),x=a(2202),u=a(9108),m=a(6048),h=a.n(m),g=a(2119),p=(a(1502),a(184));const j=e=>{const s=(0,l.useMemo)((()=>e.COLUMNS),[e.COLUMNS]),a=(0,l.useMemo)((()=>e.MOCK_DATA||[]),[e.MOCK_DATA]),{getTableProps:m,getTableBodyProps:j,headerGroups:C,prepareRow:N,page:v}=(0,r.useTable)({columns:s,data:a,autoResetWidth:!1},r.useGlobalFilter,r.useSortBy,r.usePagination);return(0,p.jsx)("div",{children:(0,p.jsx)(n.Z,{fluid:!0,className:"ml-xxl-n4 ml-xl-n4 ml-lg-n4",children:(0,p.jsxs)(t.Z,{children:[(0,p.jsxs)(o.Z,{className:"justify-content-center align-items-center",striped:!0,bordered:!0,hover:!0,...m(),responsive:!0,style:{width:"100%"},children:[(0,p.jsx)("thead",{children:C.map((e=>(0,l.createElement)("tr",{...e.getHeaderGroupProps(),key:e.id},e.headers.map((e=>(0,l.createElement)("th",{...e.getHeaderProps(),key:e.id,className:"text-center text-dark",style:{width:"".concat(e.width,"px"),whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},onClick:s=>{s.target.classList.contains("fa-sort")||"ACTIONS"===e.render("Header")||e.toggleSortBy(!e.isSortedDesc)}},"ACTIONS"===e.render("Header")?(0,p.jsx)(p.Fragment,{children:e.render("Header")}):(0,p.jsxs)("div",{children:[e.render("Header"),(0,p.jsx)(x.roE,{className:"mx-2"})]})))))))}),(0,p.jsx)("tbody",{...j(),children:v.length>0?v.map((e=>(N(e),(0,l.createElement)("tr",{...e.getRowProps(),key:e.id},e.cells.map((e=>(0,l.createElement)("td",{...e.getCellProps(),key:e.column.id,className:"text-secondary text-center ",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"20ch"}},e.render("Cell")))))))):(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:s.length,className:"text-center text-dark",children:"No Data Found"})})})]}),(0,p.jsxs)(i.Z,{className:"".concat(v.length>0?"d-flex":"d-none"," flex-row justify-content-center align-items-center"),children:[(0,p.jsxs)(i.Z,{className:"d-flex justify-content-start align-items-center flex-wrap",children:[(0,p.jsxs)("span",{className:"m-1",children:["Page"," ",(0,p.jsxs)("strong",{className:"m-2",children:[e.currentPage," of ",e.totalPages]})]}),(0,p.jsx)(t.Z,{children:(0,p.jsxs)("span",{className:"m-1",children:["Items per page"," ",(0,p.jsx)("strong",{className:"m-2",children:e.itemsPerPage})]})})]}),(0,p.jsx)(i.Z,{className:"d-none d-sm-none d-md-none d-xxl-flex d-xl-flex d-lg-flex justify-content-end align-items-center",children:(0,p.jsx)(h(),{breakLabel:"...",onPageChange:s=>e.setCurrentPage(s.selected+1),pageRangeDisplayed:5,pageCount:e.totalPages,renderOnZeroPageCount:null,activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",containerClassName:"pagination",previousLabel:(0,p.jsx)(g.Pd.Provider,{value:{color:"#0077B2",size:"28px"},children:(0,p.jsx)(u._u0,{})}),nextLabel:(0,p.jsx)(g.Pd.Provider,{value:{color:"#0077B2",size:"28px"},children:(0,p.jsx)(u.bBv,{})})})}),(0,p.jsxs)(i.Z,{className:"d-flex d-sm-flex d-md-flex d-xxl-none d-xl-none d-lg-none justify-content-end align-items-center",children:[(0,p.jsx)(d.Z,{style:{backgroundColor:"#0077B2",border:"none"},onClick:()=>e.setCurrentPage(e.currentPage-1),disabled:1===e.currentPage,className:"m-2",children:(0,p.jsx)(c.WOK,{size:14})}),(0,p.jsx)(d.Z,{style:{backgroundColor:"#0077B2",border:"none"},onClick:()=>{e.setCurrentPage(e.currentPage+1)},disabled:e.currentPage===e.totalPages,children:(0,p.jsx)(c.U6L,{size:14})})]})]})]})})})}},5444:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var l=a(2791),r=a(3360),n=a(7022),t=a(9743),o=a(2677),i=a(5316),d=a(5630),c=a(1909),x=a(7689),u=a(7246),m=a(8048),h=a(1295),g=a(2564),p=a(1959),j=a(4330),C=a(9108),N=a(2202),v=a(1212),Z=a(5804),f=a(184);const y=()=>{const[e,s]=(0,l.useState)([]),[a,y]=(0,l.useState)(""),[b,k]=(0,l.useState)([]),[P,w]=(0,l.useState)(1),[S,E]=(0,l.useState)(""),[L,T]=(0,l.useState)(!1),[B,I]=(0,l.useState)(1),[A,O]=(0,l.useState)(!1),[H,D]=(0,l.useState)(""),[G,F]=(0,l.useState)(""),[M,_]=(0,l.useState)(""),[K,W]=(0,l.useState)(""),[z,R]=(0,l.useState)(""),[U]=(0,h.fR)(),{data:Y,isLoading:V}=(0,h.EF)({page:B,search:K}),[X]=(0,h.CL)(),[q,J]=(0,l.useState)(),[Q,$]=(0,l.useState)(!1),{data:ee,isLoading:se,refetch:ae}=(0,h.XF)(),[le]=(0,h.Ze)();console.log(b),(0,l.useEffect)((()=>{Y&&Y.data&&(s(Y.data),w(Y.pagination.totalPages),J(Y.pagination.itemsPerPage))}),[Y,B]);const re=(0,x.s0)(),ne=()=>{W(z),ae({page:B,search:z})},te=()=>$(!1),oe=ee?ee.data.map((e=>({value:e,label:e}))):[];console.log(oe);const ie=[{Header:"ID",accessor:"s_no"},{Header:"Group Name",accessor:"groupName",width:"auto",minWidth:100},{Header:"Phone Numbers",accessor:"phoneNumbers",width:"auto",minWidth:100,Cell:e=>{let{row:s}=e;return(0,f.jsx)("ul",{children:s.original.phoneNumbers.map((e=>(0,f.jsx)("li",{children:e.phoneNumber},e._id)))})}},{Header:"ACTIONS",accessor:"action",fixed:"right",Cell:e=>{const s=e.row.original._id;return(0,f.jsx)("div",{className:"d-flex align-items-center justify-content-center flex-row",children:(0,f.jsx)(r.Z,{variant:"danger",className:"m-1",onClick:()=>(E(s),void T(!0)),children:(0,f.jsx)(c.ZkW,{})})})}}];return(0,f.jsx)("div",{children:V||se?(0,f.jsx)(m.Z,{}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(n.Z,{fluid:!0,className:"my-4",children:[(0,f.jsx)(t.Z,{children:(0,f.jsxs)(o.Z,{className:"d-flex flex-row justify-content-between mt-1",children:[(0,f.jsxs)("h4",{className:"fw-bold ",onClick:()=>{re("/admin/group-notification")},children:[(0,f.jsx)(C.kyg,{})," Group"]}),(0,f.jsxs)("div",{children:[(0,f.jsxs)(r.Z,{style:{backgroundColor:"#0077B2",border:"none"},className:"p-2 m-1",onClick:()=>O(!0),children:[(0,f.jsx)(j.OUD,{size:20}),(0,f.jsx)("span",{className:"d-none d-md-inline",children:" Send Notification"})]}),(0,f.jsxs)(r.Z,{style:{backgroundColor:"#0077B2",border:"none"},className:"p-2 m-1",onClick:()=>$(!0),children:[(0,f.jsx)(N.wEH,{size:20}),(0,f.jsx)("span",{className:"d-none d-md-inline",children:" Add Group"})]})]})]})}),(0,f.jsx)("hr",{className:"bg-primary ml-xxl-n2 ml-xl-n2 ml-lg-n2 "}),(0,f.jsxs)(t.Z,{className:"d-flex  flex-lg-row flex-column flex-xxl-row flex-xl-row flex-sm-column flex-md-row",children:[(0,f.jsx)(o.Z,{className:"my-4 mx-2",xxl:3,xl:3,lg:3,sm:6,md:6,children:(0,f.jsxs)("div",{className:"input-group",children:[(0,f.jsx)("span",{className:"input-group-text",children:(0,f.jsx)(Z.dVI,{})}),(0,f.jsx)("input",{type:"text",placeholder:"Search Group...",className:"form-control",value:z,onChange:e=>R(e.target.value),onKeyPress:e=>{"Enter"===e.key&&ne()}}),z&&(0,f.jsx)("span",{className:"input-group-text",onClick:()=>{R(""),W("")},children:(0,f.jsx)(Z.z3f,{})})]})}),(0,f.jsx)(o.Z,{className:"d-flex flex-column text-center my-4",xxl:2,xl:2,lg:2,sm:3,md:3,children:(0,f.jsx)(r.Z,{style:{backgroundColor:"#0077B2",border:"none"},onClick:ne,className:"",children:"Search"})})]}),(0,f.jsx)(t.Z,{className:"justify-content-center",children:(0,f.jsx)(o.Z,{xs:12,lg:12,xl:12,xxl:12,md:12,className:"table-responsive",children:(0,f.jsx)(u.Z,{COLUMNS:ie,MOCK_DATA:e,currentPage:B,totalPages:P,setCurrentPage:I,itemsPerPage:q})})})]}),(0,f.jsx)(p.Z,{DELETESTATE:L,ONCLICK:()=>T(!1),YES:async()=>{try{const a=await X(S);var e,s;if(T(!1),E(""),null!==a&&void 0!==a&&a.data)g.Am.success(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.message,{autoClose:1e3});else g.Am.error(null===a||void 0===a||null===(s=a.error)||void 0===s?void 0:s.data.error,{autoClose:1e3})}catch(a){console.error(a)}},DESCRIPTION:"Confirm to Delete this group",DELETETITLE:"group"}),(0,f.jsxs)(i.Z,{show:A,onHide:()=>O(!1),centered:!0,children:[(0,f.jsx)(i.Z.Header,{closeButton:!0,children:(0,f.jsx)(i.Z.Title,{children:"Send Notification"})}),(0,f.jsx)(i.Z.Body,{children:(0,f.jsxs)(d.Z,{children:[(0,f.jsxs)(d.Z.Group,{controlId:"groupName",children:[(0,f.jsx)(d.Z.Label,{children:"Group Name"}),(0,f.jsx)(d.Z.Control,{type:"text",placeholder:"Enter group name",value:H,onChange:e=>D(e.target.value)})]}),(0,f.jsxs)(d.Z.Group,{controlId:"title",children:[(0,f.jsx)(d.Z.Label,{children:"Title"}),(0,f.jsx)(d.Z.Control,{type:"text",placeholder:"Enter title",value:G,onChange:e=>F(e.target.value)})]}),(0,f.jsxs)(d.Z.Group,{controlId:"body",children:[(0,f.jsx)(d.Z.Label,{children:"Body"}),(0,f.jsx)(d.Z.Control,{type:"text",placeholder:"Enter body",value:M,onChange:e=>_(e.target.value)})]})]})}),(0,f.jsxs)(i.Z.Footer,{children:[(0,f.jsx)(r.Z,{variant:"secondary",onClick:()=>O(!1),children:"Cancel"}),(0,f.jsx)(r.Z,{style:{backgroundColor:"#0077B2",border:"none"},onClick:async()=>{try{const a=await U({groupName:H,title:G,body:M});var e,s;if(null!==a&&void 0!==a&&a.data)g.Am.success(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.message,{autoClose:1e3}),re("/admin/group-notification"),D(""),F(""),_(""),O(!1);else g.Am.error(null===a||void 0===a||null===(s=a.error)||void 0===s?void 0:s.data.error,{autoClose:1e3})}catch(a){console.error(a)}},children:"Send"})]})]}),(0,f.jsxs)(i.Z,{show:Q,onHide:te,centered:!0,children:[(0,f.jsx)(i.Z.Header,{closeButton:!0,children:(0,f.jsx)(i.Z.Title,{children:"Add Group"})}),(0,f.jsxs)(i.Z.Body,{children:[(0,f.jsxs)(d.Z.Group,{controlId:"groupname",children:[(0,f.jsx)(d.Z.Label,{children:"Group Name"}),(0,f.jsx)(d.Z.Control,{type:"text",placeholder:"Enter group name",value:a,onChange:e=>y(e.target.value)})]}),(0,f.jsxs)(d.Z.Group,{controlId:"emails",children:[(0,f.jsx)(d.Z.Label,{className:"mt-2",children:"Phone Numbers"}),(0,f.jsx)(v.ZP,{isMulti:!0,options:oe,value:b,onChange:e=>{k(e)}})]})]}),(0,f.jsxs)(i.Z.Footer,{children:[(0,f.jsx)(r.Z,{variant:"secondary",onClick:te,children:"Cancel"}),(0,f.jsx)(r.Z,{style:{backgroundColor:"#0077B2",border:"none"},variant:"primary",onClick:async()=>{try{const l=b.map((e=>e.value)),r=await le({groupname:a,phoneNumbers:l});var e,s;if(console.log(l),null!==r&&void 0!==r&&r.data)g.Am.success(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.message,{autoClose:1e3}),y(""),k([]),te();else g.Am.error(null===r||void 0===r||null===(s=r.error)||void 0===s?void 0:s.data.error,{autoClose:1e3})}catch(l){console.error(l)}},children:"Add Group"})]})]})]})})}},8048:(e,s,a)=>{a.d(s,{Z:()=>t});a(2791);var l=a(9329),r=a(7022),n=a(184);const t=()=>(0,n.jsxs)(r.Z,{className:"vh-100 d-flex flex-column flex-wrap-wrap justify-content-center align-items-center",children:[(0,n.jsx)(l.s5,{visible:!0,height:"96",width:"96",strokeColor:"#0077B2",strokeWidth:"5",animationDuration:"0.75",ariaLabel:"rotating-lines-loading",wrapperStyle:{},wrapperClass:""}),(0,n.jsx)("p",{className:"",children:"Loading Please Wait"})]})},1502:()=>{}}]);
//# sourceMappingURL=5444.96869f9c.chunk.js.map